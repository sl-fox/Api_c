#include <stdio.h>
#include <stdlib.h>
#include <time.h>

int main()
{
    srand(time(NULL));
    int random = 0;
    int i, j, c, x, y, sum = 0, ch = 0, try1 = 1;
    int a[5][5];
    int b[5][5];
    int num = 1;
    srand(time(NULL));

    for (i = 0; i < 5; i++) {
        for (j = 0; j < 5; j++) {
            a[i][j] = num++;
        }
    }
//챗gpt참고
    for (i = 0; i < 5; i++) {
        for (j = 0; j < 5; j++) {
            int randi = rand() % 5;
            int randj = rand() % 5;
            int temp = a[i][j];
            a[i][j] = a[randi][randj];
            a[randi][randj] = temp;
        }
    }
    // for (i = 0; i < 5; i++) {
    //     for (j = 0; j < 5; j++) {
    //         printf("%2d ", a[i][j]);
    //     }
    //     printf("\n");
    // }
    // 테스트용

    for(i = 0; i < 5; i++){
        for(j = 0; j < 5; j++){
            b[i][j] = 0;
        }
    }
//---------------------랜덤------------------------------------------------------------------
    for(;;){
        sum = 0;
        ch = 0;
        printf("%d번째 시도\n수를 입력\n", try1);
        scanf("%d", &c);
        if(c < 1 || c > 25){
            printf("1~25사이의 서로다른 수를 입력하시오.\n");
            continue;
        }
        for(i = 0; i < 5; i++){
            for(j = 0; j < 5; j++){
                if(a[i][j] == c && b[i][j] == 1){
                    ch = 1;
                }
            }
        }
        if(ch == 1){
            printf("이미 입력한 수 입니다.\n");
            continue;
        }
        for(i = 0; i < 5; i++){
            for(j = 0; j < 5; j++){
                if(a[i][j] == c){
                    b[i][j] = 1;
                }
            }
        }
        // if(b[0][0] == 1 && b[0][1] == 1 && b[0][2] == 1 && b[0][3] == 1 && b[0][4] == 1){
        //     sum++;
        // }
        // if(b[1][0] == 1 && b[1][1] == 1 && b[1][2] == 1 && b[1][3] == 1 && b[1][4] == 1){
        //     sum++;
        // }

        // if(b[2][0] == 1 && b[2][1] == 1 && b[2][2] == 1 && b[2][3] == 1 && b[2][4] == 1){
        //     sum++;
        // }

        // if(b[3][0] == 1 && b[3][1] == 1 && b[3][2] == 1 && b[3][3] == 1 && b[3][4] == 1){
        //     sum++;
        // }
        // if(b[4][0] == 1 && b[4][1] == 1 && b[4][2] == 1 && b[4][3] == 1 && b[4][4] == 1){
        //     sum++;
        // }
        //버그 발생시 대체코드
        for(i = 0; i < 5; i++){
            for(j = 0; j < 5; j++){
                if(b[i][j] == 1){
                    if(j == 4){
                        sum++;
                    }
                    continue;
                }
                else{
                    break;
                }
            }
        }
//------------------가로
        // if(b[0][0] == 1 && b[1][0] == 1 && b[2][0] == 1 && b[3][0] == 1 && b[4][0] == 1){
        //     sum++;
        // }
        // if(b[0][1] == 1 && b[1][1] == 1 && b[2][1] == 1 && b[3][1] == 1 && b[4][1] == 1){
        //     sum++;
        // }
        // if(b[0][2] == 1 && b[1][2] == 1 && b[2][2] == 1 && b[3][2] == 1 && b[4][2] == 1){
        //     sum++;
        // }
        // if(b[0][3] == 1 && b[1][3] == 1 && b[2][3] == 1 && b[3][3] == 1 && b[4][3] == 1){
        //     sum++;
        // }
        // if(b[0][4] == 1 && b[1][4] == 1 && b[2][4] == 1 && b[3][4] == 1 && b[4][4] == 1){
        //     sum++;
        // }
        //버그 발생시 대체코드
        for(i = 0; i < 5; i++){
            for(j = 0; j < 5; j++){
                if(b[j][i] == 1){
                    if(j == 4){
                        sum++;
                    }
                    continue;
                }
                else{
                    break;
                }
            }
        }
//------------------세로
        if(b[0][0] == 1 && b[1][1] == 1 && b[2][2] == 1 && b[3][3] == 1 && b[4][4] == 1){
            sum++;
        }
        if(b[0][4] == 1 && b[1][3] == 1 && b[2][2] == 1 && b[3][1] == 1 && b[4][0] == 1){
            sum++;
        }
//------------------대각선
        for(i = 0; i < 5; i++){
            for(j = 0; j < 5; j++){
                printf("%d ", b[i][j]);
            }
            printf("\n");
        }
        printf("%d빙고\n", sum);
        if(sum >= 3){
            printf("승리.\n%d번째 시도만에 맞췄습니다.", try1);
            return 0;
        }
        try1++;
    }
}
